<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorials &mdash; pyWitness 1.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/code-tabs.css" type="text/css" />
    <link rel="shortcut icon" href="_static/pyWitnessFavicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/code-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced tutorials" href="tutorials_adv.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyWitness
              <img src="_static/pyWitnessLogo200.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="licence.html">Licence &amp; Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorship.html">Authorship</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingR.html">Using pyWitness from R</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-raw-experimental-data">Loading raw experimental data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#checking-and-exploring-loaded-data">Checking and exploring loaded data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#processing-raw-experimental-data">Processing raw experimental data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-roc-curves">Plotting ROC curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-cac-curves">Plotting CAC curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collapsing-the-categorical-data">Collapsing the categorical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collapsing-binning-continuous-data">Collapsing (binning) continuous data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calculating-pauc-and-performing-statistical-tests">Calculating pAUC and performing statistical tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-rac-curves">Plotting RAC curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fitting-signal-detection-based-models-to-data">Fitting signal detection-based models to data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-initial-fit-parameters">Setting initial fit parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-fit-and-models">Plotting fit and models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-prime-calculation">d-prime calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-results-to-file">Writing results to file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#designated-innocent-suspect-in-target-absent-ta-lineups">Designated innocent suspect in target absent (TA) lineups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials_adv.html">Advanced tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials_dev.html">Developer tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduledocs.html">Module Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyWitness</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tutorials</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorials.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tutorials">
<h1>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Click on the <a class="reference external" href="https://github.com/lmickes/pyWitness/releases/tag/v1.1">repository link</a> to download the zip file, called <strong>tutorialData.zip</strong>, of the data you’ll need to run through the tutorials.</p>
</div>
<p>Make a working directory and do the tutorials in that directory.</p>
<img alt="getting the tutorial data" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1getData.gif" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the gif above, the working directory is located at Documents/demos/. The tutorial data files were placed in the directory called “demos.” Whatever you call it, when working in the terminal, you’ll always need to be in that directory to complete the tutorial.</p>
</div>
<p>The gif also showed a few commands that you may find helpful:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code> to find the directory you’re currently in</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> to change directories</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ls</span></code> to list files in the folder</p></li>
</ul>
</div></blockquote>
<p>This tutorial builds up! Between each example and the previous examples, the new lines of code are highlighted in yellow.</p>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this heading"></a></h2>
<p>Python is an interpreted object oriented programming language. There is a large range
of modules that are imported into python to provide extra functionality or features.
pyWitness uses numpy (numerical arrays), scipy (fitting and functions), pandas
(data frames), matplotlib (plotting), openpyxl (reading/writing excel),
xlrd (reading/writing excel), and numba (compiler to speed up code).</p>
<p>Python is best started from a terminal/command prompt</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ipython3 --pylab</span>
</pre></div>
</div>
<p>This then lands you in a python console window</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Python 3.7.9 (default, Sep  6 2020, 16:32:30)</span>
<span class="go">Type &#39;copyright&#39;, &#39;credits&#39; or &#39;license&#39; for more information</span>
<span class="go">IPython 7.14.0 -- An enhanced Interactive Python. Type &#39;?&#39; for help.</span>

<span class="go">In [1]:</span>
</pre></div>
</div>
<p>Commands can now be typed in to execute python and pyWitness commands. Here are some helpful tips
to speed up inputing commands</p>
<blockquote>
<div><ul class="simple">
<li><p>Cut and paste commands (to reduce typos)</p></li>
<li><p>Use the command history (up and down cursor arrows) to find commands that were used previously</p></li>
<li><p>Use command history with search (so try <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pyW</span></code> and then up arrow. This will search the
command history with that command fragment and probably match with a previous <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pyWitness</span></code></p></li>
<li><p>A command can be completed by using <code class="docutils literal notranslate"><span class="pre">tab</span></code>. Try typing in <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pyW</span></code> and then pressing <code class="docutils literal notranslate"><span class="pre">tab</span></code></p></li>
<li><p>To get help on a command, type the function and then <code class="docutils literal notranslate"><span class="pre">?</span></code> for example, <code class="docutils literal notranslate"><span class="pre">dp.plotROC?</span></code></p></li>
</ul>
</div></blockquote>
</section>
<section id="loading-raw-experimental-data">
<h2>Loading raw experimental data<a class="headerlink" href="#loading-raw-experimental-data" title="Permalink to this heading"></a></h2>
<p>Remember, you may need to activate pyWitness when you start a terminal by using this code</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">pyWitness</span>
</pre></div>
</div>
<p>Start up ipython3 with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ipython3</span> <span class="o">--</span><span class="n">pylab</span>
</pre></div>
</div>
<p>and pyWitness with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
</pre></div>
</div>
<img alt="getting to the right place" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1rightDirectoryStartPyWitness.gif" />
<p>A single Python class <a class="reference external" href="./moduledocs.html#pyWitness.DataRaw">pyWitness.DataRaw</a> is used to load raw data in
either <code class="docutils literal notranslate"><span class="pre">csv</span></code> or <code class="docutils literal notranslate"><span class="pre">excel</span></code> format. The format of <code class="docutils literal notranslate"><span class="pre">test1.csv</span></code> is the same as that described in the introduction.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></div></section>
<section id="checking-and-exploring-loaded-data">
<h2>Checking and exploring loaded data<a class="headerlink" href="#checking-and-exploring-loaded-data" title="Permalink to this heading"></a></h2>
<p>It is useful to understand what columns and data values are stored in the raw data.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span> <span class="kn">import</span> <span class="nn">pyWitness</span>
 <span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="hll"> <span class="n">dr</span><span class="o">.</span><span class="n">checkData</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><span class="w"> </span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">checkData</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">DataRaw.checkData&gt;</span>
<span class="go">DataRaw.checkData&gt; columns      : [&#39;Unnamed: 0&#39; &#39;participantId&#39; &#39;lineupSize&#39; &#39;targetLineup&#39; &#39;responseType&#39; &#39;confidence&#39; &#39;responseTime&#39;]</span>
<span class="go">DataRaw.checkData&gt; lineupSize   : [6]</span>
<span class="go">DataRaw.checkData&gt; targetLineup : [&#39;targetAbsent&#39; &#39;targetPresent&#39;]</span>
<span class="go">DataRaw.checkData&gt; responseType : [&#39;fillerId&#39; &#39;rejectId&#39; &#39;suspectId&#39;]</span>
<span class="go">DataRaw.checkData&gt; confidence   : [  0  10  20  30  40  50  60  70  80  90 100]</span>
<span class="go">DataRaw.checkData&gt; number trials : 890</span>
</pre></div>
</div>
<p>If the unique values for a non-mandatory column are required then this can be displayed using</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dr</span><span class="o">.</span><span class="n">columnValues</span><span class="p">(</span><span class="s2">&quot;responseTime&quot;</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dr</span><span class="o">$</span><span class="nf">columnValues</span><span class="p">(</span><span class="s">&quot;responseTime&quot;</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">DataRaw.columnValues&gt;           : responseTime [  1159   1296   1326 ... 161703 502420 651073]</span>
</pre></div>
</div>
<p>It is possible also to load Excel files</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.xlsx&quot;</span><span class="p">,</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;test1.xlsx&quot;</span><span class="p">,</span><span class="s">&quot;test1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></div><p>The second argument is the sheet name within the workbook (in the example above, it’s “test1”).</p>
</section>
<section id="processing-raw-experimental-data">
<h2>Processing raw experimental data<a class="headerlink" href="#processing-raw-experimental-data" title="Permalink to this heading"></a></h2>
<p>To process the raw data the function <a class="reference external" href="./moduledocs.html#pyWitness.DataRaw.process">pyWitness.DataRaw.process</a>
needs to be called on a raw data object. This calculates the cumulative rates from the raw data.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><p>Once <a class="reference external" href="./moduledocs.html#pyWitness.DataRaw.process">pyWitness.DataRaw.process</a> is called two <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code> are
created. One contains a pivot table and the other contains rates.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">printPivot</span><span class="p">()</span>
</span><span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">printRates</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">$</span><span class="nf">printPivot</span><span class="p">()</span>
</span><span class="hll"><span class="n">dp</span><span class="o">$</span><span class="nf">printRates</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><p>You should see the following output of the <code class="docutils literal notranslate"><span class="pre">dp.printPivot()</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">                          confidence</span>
<span class="go">confidence                        0    10   20   30    40    50    60    70    80    90    100</span>
<span class="go">targetLineup  responseType</span>
<span class="go">targetAbsent  fillerId            2.0  7.0  5.0  8.0  10.0  20.0  26.0  20.0  14.0   8.0   6.0</span>
<span class="go">              rejectId            2.0  5.0  5.0  6.0   9.0  24.0  35.0  56.0  68.0  43.0  64.0</span>
<span class="go">targetPresent fillerId            0.0  0.0  2.0  3.0   5.0   6.0   5.0  10.0   5.0   4.0   2.0</span>
<span class="go">              rejectId            3.0  1.0  0.0  6.0  10.0  20.0   9.0  19.0  23.0  16.0  21.0</span>
<span class="go">              suspectId           2.0  1.0  4.0  4.0  10.0  18.0  42.0  68.0  54.0  33.0  41.0</span>
<span class="go">total number of participants 890.0</span>
</pre></div>
</div>
<p>In the output above are frequencies by confidence levels for each response type. To familiarize you with the output, in the table above, 8 filler identifications were given with 30% confidence on the target-absent lineups, 64 reject identifications (i.e., “The perp is not in the lineup”) given with 100% confidence on the target-absent lineups, and 41 guilty suspect identifications (from target-present lineups) given with 100% confidence.</p>
<p>You should also see the following output for <code class="docutils literal notranslate"><span class="pre">dp.printRates()</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">                    confidence</span>
<span class="go">confidence                     0          10         20         30         40         50         60         70         80         90          100</span>
<span class="go">variable      type</span>
<span class="go">cac           central     0.857143   0.461538   0.827586   0.750000   0.857143   0.843750   0.906475   0.953271   0.958580   0.961165    0.976190</span>
<span class="go">confidence    central     0          10         20         30         40         50         60         70         80             90          100</span>
<span class="go">dprime        central     1.975221   1.971156   1.992932   1.990193   2.001534   1.990478   1.994925   1.940776   1.742686   1.585873    1.509544</span>
<span class="go">rf                        0.007830   0.007271   0.016219   0.017897   0.039150   0.071588   0.155481   0.239374   0.189038   0.115213    0.140940</span>
<span class="go">targetAbsent  fillerId    0.284424   0.279910   0.264108   0.252822   0.234763   0.212190   0.167043   0.108352   0.063205   0.031603    0.013544</span>
<span class="go">              rejectId    0.715576   0.711061   0.699774   0.688488   0.674944   0.654628   0.600451   0.521445   0.395034   0.241535    0.144470</span>
<span class="go">              suspectId   0.047404   0.046652   0.044018   0.042137   0.039127   0.035365   0.027840   0.018059   0.010534   0.005267    0.002257</span>
<span class="go">targetPresent fillerId    0.093960   0.093960   0.093960   0.089485   0.082774   0.071588   0.058166   0.046980   0.024609   0.013423    0.004474</span>
<span class="go">              rejectId    0.286353   0.279642   0.277405   0.277405   0.263982   0.241611   0.196868   0.176734   0.134228   0.082774    0.046980</span>
<span class="go">              suspectId   0.619687   0.615213   0.612975   0.604027   0.595078   0.572707   0.532438   0.438479   0.286353   0.165548    0.091723</span>
<span class="go">zL            central    -1.670562  -1.678225  -1.705849  -1.726409  -1.760906  -1.807208  -1.913524  -2.095603  -2.306755  -2.557781   -2.839765</span>
<span class="go">zT            central     0.304658   0.292931   0.287082   0.263784   0.240628   0.183270   0.081401  -0.154827  -0.564069  -0.971908   -1.330222</span>
</pre></div>
</div>
<p>In the table above, the overall false ID rate is 0.047, the overall correct ID rate is 0.620, and the overall correct rejection rate is 0.716.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the example there is no <code class="docutils literal notranslate"><span class="pre">suspectId</span></code> for <code class="docutils literal notranslate"><span class="pre">targetAbsent</span></code> lineups. Here the <code class="docutils literal notranslate"><span class="pre">targetAbsent.suspectId</span></code> is estimated as <code class="docutils literal notranslate"><span class="pre">targetAbsent.fillerId/lineupSize</span></code></p>
</div>
<img alt="getting rates and pivots" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1rates.gif" />
<p>To see overall descriptive statistics, use</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">.</span><span class="n">printDescriptiveStats</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">$</span><span class="nf">printDescriptiveStats</span><span class="p">()</span>
</pre></div>
</div>
</div></div><p>and you’ll see this output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Number of lineups                    890.0</span>
<span class="go">Number of target-absent lineups      443.0</span>
<span class="go">Number of target-present lineups     447.0</span>
<span class="go">Correct ID rate                        0.6196868008948546</span>
<span class="go">False ID rate                          0.0474040632054176</span>
<span class="go">dPrime                                 1.9752208100241062</span>
<span class="go">pAUC                                   0.02066155955774986</span>
</pre></div>
</div>
</section>
<section id="plotting-roc-curves">
<h2>Plotting ROC curves<a class="headerlink" href="#plotting-roc-curves" title="Permalink to this heading"></a></h2>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span> <span class="kn">import</span> <span class="nn">pyWitness</span>
 <span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
 <span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"> <span class="n">dp</span><span class="o">.</span><span class="n">plotROC</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="w"> </span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">plotROC</span><span class="p">()</span>
</span><span class="hll"><span class="w"> </span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="ROC for test1.csv" src="_images/test1ROCnoBin.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The symbol size is the relative frequency and can be changed by setting <code class="docutils literal notranslate"><span class="pre">dp.plotROC(relativeFrequencyScale</span> <span class="pre">=</span> <span class="pre">400)</span></code></p>
</div>
<p>The black dashed line in the plot represents chance performance.</p>
</section>
<section id="plotting-cac-curves">
<h2>Plotting CAC curves<a class="headerlink" href="#plotting-cac-curves" title="Permalink to this heading"></a></h2>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">plotCAC</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">()</span>
</span><span class="hll"><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="CAC for test1.csv" src="_images/test1CACnoBin.png" />
</figure>
<img alt="ROC and CAC plots" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1ROCcac.gif" />
</section>
<section id="collapsing-the-categorical-data">
<h2>Collapsing the categorical data<a class="headerlink" href="#collapsing-the-categorical-data" title="Permalink to this heading"></a></h2>
<p>The dataset used in this tutorial has 11 confidence levels (0, 10, 20, 30, 40, 50, 60, 70, 80, 90 and 100). Often confidence levels need to be binned or collapsed. This is best performed on the raw data before calling
<code class="docutils literal notranslate"><span class="pre">process()</span></code>. This is done with the <code class="docutils literal notranslate"><span class="pre">collapseCategoricalData</span></code> method of <code class="docutils literal notranslate"><span class="pre">DataRaw</span></code>, and shown in example below, where the new bins are (0-60 map to 30, 70-80 to 75 and 90-100 to 95).</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dr</span><span class="o">.</span><span class="n">collapseCategoricalData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;confidence&#39;</span><span class="p">,</span>
</span><span class="hll">                       <span class="nb">map</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span class="hll">                            <span class="mi">70</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">80</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
</span><span class="hll">                            <span class="mi">90</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">100</span><span class="p">:</span> <span class="mi">95</span><span class="p">})</span>
</span><span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">.</span><span class="n">plotCAC</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dr</span><span class="o">$</span><span class="nf">collapseCategoricalData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">&#39;confidence&#39;</span><span class="p">,</span><span class="n">map</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;10&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;20&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;30&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span>
</span><span class="hll"><span class="w">                                                        </span><span class="s">&quot;40&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="s">&quot;50&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;60&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="s">&quot;70&quot;</span><span class="o">=</span><span class="m">75</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;80&quot;</span><span class="o">=</span><span class="m">75</span><span class="p">,</span><span class="s">&quot;90&quot;</span><span class="o">=</span><span class="m">95</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;100&quot;</span><span class="o">=</span><span class="m">95</span><span class="p">))</span>
</span><span class="hll"><span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
</span><span class="hll"><span class="n">dp</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">()</span>
</span><span class="hll"><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="Rebinned CAC for test1.csv" src="_images/test1CACBin.png" />
</figure>
<p>To rescale the axes, you can use</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">_plt</span>
<span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ylim</span><span class="p">(</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseCategoricalData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">&#39;confidence&#39;</span><span class="p">,</span><span class="n">map</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;10&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;20&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;30&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w">               </span><span class="s">&quot;40&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="s">&quot;50&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;60&quot;</span><span class="o">=</span><span class="m">30</span><span class="p">,</span><span class="s">&quot;70&quot;</span><span class="o">=</span><span class="m">75</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;80&quot;</span><span class="o">=</span><span class="m">75</span><span class="p">,</span><span class="s">&quot;90&quot;</span><span class="o">=</span><span class="m">95</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;100&quot;</span><span class="o">=</span><span class="m">95</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">()</span>
<span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">ylim</span><span class="p">(</span><span class="m">0.50</span><span class="p">,</span><span class="m">1.0</span><span class="p">))</span>
<span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</pre></div>
</div>
</div></div><p>and you get</p>
<figure class="align-default">
<img alt="CAC rescaled" src="_images/test1CACBinLim.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you err, the <code class="docutils literal notranslate"><span class="pre">collapseCategoricalData</span></code> the data might be inconsistent. To start with the original data so call <code class="docutils literal notranslate"><span class="pre">collapseCategoricalData</span></code> with <code class="docutils literal notranslate"><span class="pre">reload=True</span></code></p>
</div>
</section>
<section id="collapsing-binning-continuous-data">
<h2>Collapsing (binning) continuous data<a class="headerlink" href="#collapsing-binning-continuous-data" title="Permalink to this heading"></a></h2>
<p>Some data are not categorical variables, but continuous variables.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</span><span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">.</span><span class="n">plotROC</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="w"> </span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="hll"><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
</span><span class="w"> </span><span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">plotROC</span><span class="p">()</span>
<span class="w"> </span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">labels=None</span></code> can be used and the bins will be automatically labelled</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The bin edges are exclusive of the low edge and inclusive of the high edge</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Confidence needs to be a numerical value because ROC analysis requires a value that can be ordered.</p>
</div>
</section>
<section id="calculating-pauc-and-performing-statistical-tests">
<h2>Calculating pAUC and performing statistical tests<a class="headerlink" href="#calculating-pauc-and-performing-statistical-tests" title="Permalink to this heading"></a></h2>
<p>pAUC is calculated when <code class="docutils literal notranslate"><span class="pre">dr.process()</span></code> is called. Simpson’s rule integrates the area
under the ROC curve up to a maximum value. If the maximum value is between two data points, linear interpolation is used to calculate the most liberal point (i.e., the lowest level of confidence).</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">dp</span><span class="o">.</span><span class="n">pAUC</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="nf">print</span><span class="p">(</span><span class="n">dp</span><span class="o">$</span><span class="n">pAUC</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="Data-model ROC comparision for test1.csv" src="_images/test1_pAUC.jpg" />
</figure>
</section>
<section id="plotting-rac-curves">
<h2>Plotting RAC curves<a class="headerlink" href="#plotting-rac-curves" title="Permalink to this heading"></a></h2>
<p>To perform analyses with a different variable than confidence, for example, response time, use the following code. The important change is highlighted.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span> <span class="kn">import</span> <span class="nn">pyWitness</span>
 <span class="n">drRAC</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
 <span class="n">drRAC</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;responseTime&quot;</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">15000</span><span class="p">,</span> <span class="mi">20000</span><span class="p">,</span> <span class="mi">99999</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="hll"> <span class="n">dpRAC</span> <span class="o">=</span> <span class="n">drRAC</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">reverseConfidence</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">dependentVariable</span><span class="o">=</span><span class="s2">&quot;responseTime&quot;</span><span class="p">)</span>
</span> <span class="n">dpRAC</span><span class="o">.</span><span class="n">plotCAC</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">drRAC</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">drRAC</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">&quot;responseTime&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="n">bins</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">5000</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="m">15000</span><span class="p">,</span><span class="w"> </span><span class="m">20000</span><span class="p">,</span><span class="w"> </span><span class="m">99999</span><span class="p">),</span><span class="n">labels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">))</span>
<span class="hll"><span class="n">dpRAC</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">drRAC</span><span class="o">$</span><span class="nf">process</span><span class="p">(</span><span class="n">reverseConfidence</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="n">dependentVariable</span><span class="o">=</span><span class="s">&quot;responseTime&quot;</span><span class="p">)</span>
</span><span class="n">dpRAC</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">()</span>
<span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">xlabel</span><span class="p">(</span><span class="s">&quot;Response Time&quot;</span><span class="p">))</span>
<span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">ylim</span><span class="p">(</span><span class="n">.</span><span class="m">50</span><span class="p">,</span><span class="m">1.0</span><span class="p">))</span>
<span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">savefig</span><span class="p">(</span><span class="s">&quot;test1RAC.png&quot;</span><span class="p">))</span>
<span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">savefig</span><span class="p">(</span><span class="s">&quot;test1RAC.pdf&quot;</span><span class="p">))</span>
</pre></div></td></tr></table></div>
</div>
</div></div><p>The plot will look like this:</p>
<figure class="align-default">
<img alt="RAC for test1" src="_images/test1RAC.png" />
</figure>
</section>
<section id="fitting-signal-detection-based-models-to-data">
<h2>Fitting signal detection-based models to data<a class="headerlink" href="#fitting-signal-detection-based-models-to-data" title="Permalink to this heading"></a></h2>
<p>There are many models available in pyWitness. We’ll start with the independent observation model. To load and process the data is the same as before (lines 1-4), the fitting
part is new and the code is highlighted (lines 5-7).</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">setEqualVariance</span><span class="p">()</span>
</span><span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">,</span><span class="n">convert</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">setEqualVariance</span><span class="p">()</span>
</span><span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">fit</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><p>Line 5 constructs a fit object, line 6 sets the model parameters to equal variance and line 7 starts the minimiser. The
output from the fit (execution of line 7) is something like the following</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">fit iterations 223</span>
<span class="go">fit status     Optimization terminated successfully.</span>
<span class="go">fit time       9.376720442</span>
<span class="go">fit chi2       10.300411274463407</span>
<span class="go">fit ndf        4</span>
<span class="go">fit chi2/ndf   2.5751028186158518</span>
<span class="go">fit p-value    0.035660197825222784</span>
</pre></div>
</div>
<img alt="Model fit details and parameters" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1modelFitPara.gif" />
<p>To clearly see how the fitting works, the following code is the same as above but
with <code class="docutils literal notranslate"><span class="pre">mf.printParameters()</span></code> on lines 6, 9, and 12.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">mf</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>
</span>
<span class="n">mf</span><span class="o">.</span><span class="n">setEqualVariance</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>
</span>
<span class="n">mf</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">mf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">printParameters</span><span class="p">()</span>
</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">setEqualVariance</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">printParameters</span><span class="p">()</span>
</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">fit</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">printParameters</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><p>After creating the <code class="docutils literal notranslate"><span class="pre">mf</span></code> object (line 9) the parameters are at their default values and free</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lureMean 0.0 (free)</span>
<span class="go">lureSigma 1.0 (free)</span>
<span class="go">targetMean 1.0 (free)</span>
<span class="go">targetSigma 1.0 (free)</span>
<span class="go">lureBetweenSigma 0.0 (free)</span>
<span class="go">targetBetweenSigma 0.0 (free)</span>
<span class="go">c1 1.0 (free)</span>
<span class="go">c2 1.5 (free)</span>
<span class="go">c3 2.0 (free)</span>
</pre></div>
</div>
<p>Typically you would want to control the fit parameters. <code class="docutils literal notranslate"><span class="pre">setEqualVariance</span></code> sets some default model which is
an appropriate start; line 12 yields</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lureMean 0.0 (fixed)</span>
<span class="go">lureSigma 1.0 (fixed targetSigma)</span>
<span class="go">targetMean 1.0 (free)</span>
<span class="go">targetSigma 1.0 (fixed)</span>
<span class="go">lureBetweenSigma 0.3 (fixed targetBetweenSigma)</span>
<span class="go">targetBetweenSigma 0.3 (free)</span>
<span class="go">c1 1.0 (free)</span>
<span class="go">c2 1.5 (free)</span>
<span class="go">c3 2.0 (free)</span>
</pre></div>
</div>
<p>Comparing these two fit parameters settings</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lureSigma</span></code> is forced to be equal to <code class="docutils literal notranslate"><span class="pre">targetSigma</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">targetSigma</span></code> is fixed to its current value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lureBetweenSigma</span></code> is fixed to <code class="docutils literal notranslate"><span class="pre">targetBetweenSigma</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">targetBetweenSigma</span></code> is fixed to its current value</p></li>
</ul>
</div></blockquote>
<p>After running the fit the parameters are updated so the output of line 12 in the code example gives</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ModelFit.printParameters&gt;  lureMean 0.000 (fixed)</span>
<span class="go">ModelFit.printParameters&gt;  lureSigma 1.000 (fixed targetSigma)</span>
<span class="go">ModelFit.printParameters&gt;  targetMean 1.798 (free)</span>
<span class="go">ModelFit.printParameters&gt;  targetSigma 1.000 (fixed)</span>
<span class="go">ModelFit.printParameters&gt;  lureBetweenSigma 0.605 (fixed targetBetweenSigma)</span>
<span class="go">ModelFit.printParameters&gt;  targetBetweenSigma 0.605 (free)</span>
<span class="go">ModelFit.printParameters&gt;  c1 1.402 (free)</span>
<span class="go">ModelFit.printParameters&gt;  c2 1.935 (free)</span>
<span class="go">ModelFit.printParameters&gt;  c3 2.677 (free)</span>
</pre></div>
</div>
<p>There many ways to control the model</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Parameter control examples</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mf.lureMean.value</span> <span class="pre">=</span> <span class="pre">-0.1</span></code></p></td>
<td><p>Sets the lure mean parameter to -0.1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mf.targetMean.fixed</span> <span class="pre">=</span> <span class="pre">True</span></code></p></td>
<td><p>Fixed the parameter so it cannot change during a fit</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mf.lureMean.fixed</span> <span class="pre">=</span> <span class="pre">False</span></code></p></td>
<td><p>Unfixes the parameter so it will be free in a fit</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mf.c1.set_equal(mf.c2)</span></code></p></td>
<td><p>Locks <code class="docutils literal notranslate"><span class="pre">c1</span></code> and <code class="docutils literal notranslate"><span class="pre">c2</span></code> together</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mf.lureBetweenSigma.unset_equal()</span></code></p></td>
<td><p>Release the linking of lureBetweenSigma and targetBetweenSigma</p></td>
</tr>
</tbody>
</table>
<p>There are multiple fits available and they all have the same interface but differ in
the construction line</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;confidence&quot;</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>

<span class="hll"><span class="n">mf_io</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_br</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitBestRest</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_en</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitEnsemble</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_in</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIntegration</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>

<span class="hll"><span class="n">mf_io</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_br</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitBestRest</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_en</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitEnsemble</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span><span class="hll"><span class="n">mf_in</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIntegration</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div></section>
<section id="setting-initial-fit-parameters">
<h2>Setting initial fit parameters<a class="headerlink" href="#setting-initial-fit-parameters" title="Permalink to this heading"></a></h2>
<p>With data samples with large number of confidence bins the fits can take a large
number of iterations to converge (long run times). Sensible fit parameters can be be
estimated from the data.</p>
<p>To estimate the target mean <span class="math notranslate nohighlight">\(\mu_t\)</span> and sigma <span class="math notranslate nohighlight">\(\sigma_t\)</span> the following relation is used</p>
<div class="math notranslate nohighlight">
\[Z(R_{T,i}) = \frac{Z(R_{L,i})- \mu_t}{\sigma_t}\]</div>
<p>Rearranging gives</p>
<div class="math notranslate nohighlight">
\[\sigma_t Z(R_{T,i}) = Z(R_{L,i}) - \mu_s\]</div>
<p>There is a linear relationship between target and lure <span class="math notranslate nohighlight">\(Z\)</span> values. This can be plotted
and a linear fit used to estimate the gradient and intercept.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">plotHitVsFalseAlarmRate</span><span class="p">()</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">$</span><span class="nf">plotHitVsFalseAlarmRate</span><span class="p">()</span>
</span><span class="nf">invisible</span><span class="p">(</span><span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">savefig</span><span class="p">(</span><span class="s">&quot;HvFA.png&quot;</span><span class="p">))</span>
</pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="Hit rate vs. false alarm rate for test1.csv" src="_images/HvFA.png" />
</figure>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">mf</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>

<span class="n">mf</span><span class="o">.</span><span class="n">setEqualVariance</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">.</span><span class="n">setParameterEstimates</span><span class="p">()</span>
</span><span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>

<span class="n">mf</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">mf</span><span class="o">.</span><span class="n">printParameters</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">mf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>

<span class="n">mf</span><span class="o">$</span><span class="nf">setEqualVariance</span><span class="p">()</span>
<span class="hll"><span class="n">mf</span><span class="o">$</span><span class="nf">setParameterEstimates</span><span class="p">()</span>
</span><span class="n">mf</span><span class="o">$</span><span class="nf">printParameters</span><span class="p">()</span>

<span class="n">mf</span><span class="o">$</span><span class="nf">fit</span><span class="p">()</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">printParameters</span><span class="p">()</span>
</pre></div></td></tr></table></div>
</div>
</div></div></section>
<section id="plotting-fit-and-models">
<h2>Plotting fit and models<a class="headerlink" href="#plotting-fit-and-models" title="Permalink to this heading"></a></h2>
<p>It is important to understand the performance of a given particular fit. The following plot compares
the experimental data to the model fit.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">.</span><span class="n">collapseContinuousData</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s2">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">.</span><span class="n">calculateConfidenceBootstrap</span><span class="p">(</span><span class="n">nBootstraps</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">mf</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="n">mf</span><span class="o">.</span><span class="n">setEqualVariance</span><span class="p">()</span>
<span class="n">mf</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">$</span><span class="nf">calculateConfidenceBootstrap</span><span class="p">(</span><span class="n">nBootstraps</span><span class="o">=</span><span class="nf">as.integer</span><span class="p">(</span><span class="m">200</span><span class="p">))</span>
<span class="n">mf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">setEqualVariance</span><span class="p">()</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">fit</span><span class="p">()</span>
</pre></div>
</div>
</div></div><p>To compare an <em>ROC</em> plot between data and fit</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dp</span><span class="o">.</span><span class="n">plotROC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Data&quot;</span><span class="p">)</span>
<span class="n">mf</span><span class="o">.</span><span class="n">plotROC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Indep. obs. fit&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">_plt</span>
<span class="n">_plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="n">dr</span><span class="o">$</span><span class="nf">collapseContinuousData</span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;confidence&quot;</span><span class="p">,</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">60</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">100</span><span class="p">),</span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span>
<span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="n">dp</span><span class="o">$</span><span class="nf">calculateConfidenceBootstrap</span><span class="p">(</span><span class="n">nBootstraps</span><span class="o">=</span><span class="nf">as.integer</span><span class="p">(</span><span class="m">200</span><span class="p">))</span>
<span class="n">mf</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">ModelFitIndependentObservation</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">setEqualVariance</span><span class="p">()</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">fit</span><span class="p">()</span>
<span class="n">dp</span><span class="o">$</span><span class="nf">plotROC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;Data&quot;</span><span class="p">)</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">plotROC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;Indep. obs. fit&quot;</span><span class="p">)</span>
<span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">legend</span><span class="p">()</span>
<span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">show</span><span class="p">()</span>
</pre></div>
</div>
</div></div><figure class="align-default">
<img alt="Data-model ROC comparision for test1.csv" src="_images/test1ROCcomparisonBin.png" />
</figure>
<img alt="ROC data and model fit plotted" src="http://mickeslab.com/wp-content/uploads/2022/03/tutorial1fitDataROCplot.gif" />
<p>To compare a <em>CAC</em> plot between data and fit</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dp</span><span class="o">.</span><span class="n">plotCAC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Data&quot;</span><span class="p">)</span>
<span class="n">mf</span><span class="o">.</span><span class="n">plotCAC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Indep. obs. fit&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">_plt</span>
<span class="n">_plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">dp</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;Data&quot;</span><span class="p">)</span>
<span class="n">mf</span><span class="o">$</span><span class="nf">plotCAC</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;Indep. obs. fit&quot;</span><span class="p">)</span>

<span class="n">mpl</span><span class="o">$</span><span class="n">pyplot</span><span class="o">$</span><span class="nf">legend</span><span class="p">()</span>
</pre></div>
</div>
</div></div><figure class="align-default">
<img alt="Data-model CAC comparision for test1.csv" src="_images/test1CACcomparisonBin.png" />
</figure>
<p>To compare frequencies in each bin between data and fit</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mf</span><span class="o">.</span><span class="n">plotFit</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">mf</span><span class="o">$</span><span class="nf">plotFit</span><span class="p">()</span>
</pre></div>
</div>
</div></div><figure class="align-default">
<img alt="Data-model comparision for test1.csv" src="_images/testPlotFit.png" />
</figure>
<p>Once a fit has been performed, the model can be displayed as a function of memory strength and includes the lure and target distributions with means and standard deviations (top panel of plot below) and the associated criteria, c1 (low confidence), c2 (medium confidence), and c3 (high confidence) (bottom panel of plot below). This simple command belonging to a ModelFit object can be used to make the plot below.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mf</span><span class="o">.</span><span class="n">plotModel</span><span class="p">()</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">mf</span><span class="o">$</span><span class="nf">plotModel</span><span class="p">()</span>
</pre></div>
</div>
</div></div><figure class="align-default">
<img alt="Independent Observation model fit" src="_images/testPlotModel.png" />
</figure>
</section>
<section id="d-prime-calculation">
<h2>d-prime calculation<a class="headerlink" href="#d-prime-calculation" title="Permalink to this heading"></a></h2>
<p>The d-prime can be calculated by computing</p>
<div class="math notranslate nohighlight">
\[d^{\prime} = Z(R_{T,i}) - Z(R_{L,i})\]</div>
<p>where <span class="math notranslate nohighlight">\(R_{T,i}\)</span> is the cumulative rate for targets (<span class="math notranslate nohighlight">\(T\)</span>) with confidence <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(R_{L,i}\)</span> is the cumulative
rate for lures (<span class="math notranslate nohighlight">\(L\)</span>) with confidence <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(Z\)</span> is the inverse normal CDF. This can be evaluated for every
confidence bin, but there are conventions for lineups and showups. For all confidence levels <span class="math notranslate nohighlight">\(d^{\prime}\)</span> is stored in the rates
dataframe, so <code class="docutils literal notranslate"><span class="pre">dp.printRates()</span></code> gives</p>
<div class="highlight-console notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><span class="go">                           confidence</span>
<span class="go">confidence                          3          2          1</span>
<span class="go">targetLineup  responseType</span>
<span class="go">cac           central        0.956357   0.940618   0.839228</span>
<span class="go">confidence    central       95.588235  74.859335  44.778068</span>
<span class="hll"><span class="go">dprime        central        1.433207   1.748223   1.767339</span>
</span><span class="go">rf                           0.264691   0.422903   0.312406</span>
<span class="go">targetAbsent  fillerId       0.044660   0.141748   0.335922</span>
<span class="go">              rejectId       0.217476   0.473786   0.664078</span>
<span class="go">              suspectId      0.007443   0.023625   0.055987</span>
<span class="go">targetPresent fillerId       0.018832   0.080979   0.152542</span>
<span class="go">              rejectId       0.080979   0.163842   0.276836</span>
<span class="go">              suspectId      0.158192   0.406780   0.570621</span>
</pre></div></td></tr></table></div>
</div>
<dl class="simple">
<dt>A member variable <code class="docutils literal notranslate"><span class="pre">dPrime</span></code> in <code class="docutils literal notranslate"><span class="pre">DataProcessed</span></code> is set according to</dt><dd><ul class="simple">
<li><p>Lineup convention <span class="math notranslate nohighlight">\(d^{\prime}\)</span> is the lowest confidence (most liberal) so <code class="docutils literal notranslate"><span class="pre">dp.dPrime</span></code> is <code class="docutils literal notranslate"><span class="pre">1.767339</span></code></p></li>
<li><p>Showup convention <span class="math notranslate nohighlight">\(d^{\prime}\)</span> is the lowest positive confidence</p></li>
</ul>
</dd>
</dl>
<p><span class="math notranslate nohighlight">\(d\)</span> can also be calculated from a signal detection model so</p>
<div class="math notranslate nohighlight">
\[d = \frac{\mu_{T} - \mu_{L}}{ \sqrt{\frac{\sigma_T^2 + \sigma_L^2}{2}} }\]</div>
<p>This is calculated from the fit parameters for the fits described in the previous section so</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">In [X]: mf.d</span>
<span class="go">Out[X]: 1.7976601843420954</span>
</pre></div>
</div>
</section>
<section id="writing-results-to-file">
<h2>Writing results to file<a class="headerlink" href="#writing-results-to-file" title="Permalink to this heading"></a></h2>
<p>The internal dataframes can be written to either <code class="docutils literal notranslate"><span class="pre">csv</span></code> or <code class="docutils literal notranslate"><span class="pre">xlsx</span></code> file format for further analysis. There are four functions belonging to <code class="docutils literal notranslate"><span class="pre">DataProcessed</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">writePivotExcel</span></code> writes the pivot table to excel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writePivotCsv</span></code> writes the pivot table to csv</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeRatesExcel</span></code> writes the cummulative rates table to excel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeRatesCsv</span></code> writes the cummulative rates table to csv</p></li>
</ul>
</div></blockquote>
<p>The string argument for the functions is the file name.</p>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
python</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
R</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pyWitness</span>
<span class="n">dr</span> <span class="o">=</span> <span class="n">pyWitness</span><span class="o">.</span><span class="n">DataRaw</span><span class="p">(</span><span class="s2">&quot;test1.csv&quot;</span><span class="p">)</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">writePivotExcel</span><span class="p">(</span><span class="s2">&quot;test1_pivot.xlsx&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">writePivotCsv</span><span class="p">(</span><span class="s2">&quot;test1_pivot.csv&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">writeRatesExcel</span><span class="p">(</span><span class="s2">&quot;test1_rates.xlsx&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="n">dp</span><span class="o">.</span><span class="n">writeRatesCsv</span><span class="p">(</span><span class="s2">&quot;test1_rates.csv&quot;</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-R notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><span class="w"> </span><span class="n">pyw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">import</span><span class="p">(</span><span class="s">&quot;pyWitness&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pyw</span><span class="o">$</span><span class="nf">DataRaw</span><span class="p">(</span><span class="s">&quot;./test1.csv&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="n">dp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dr</span><span class="o">$</span><span class="nf">process</span><span class="p">()</span>
<span class="hll"><span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">writePivotExcel</span><span class="p">(</span><span class="s">&quot;./test1_pivot.xlsx&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">writePivotCsv</span><span class="p">(</span><span class="s">&quot;./test1_pivot.csv&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">writeRatesExcel</span><span class="p">(</span><span class="s">&quot;./test1_rates.xlsx&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="w"> </span><span class="n">dp</span><span class="o">$</span><span class="nf">writeRatesCsv</span><span class="p">(</span><span class="s">&quot;./test1_rates.csv&quot;</span><span class="p">)</span>
</span></pre></div></td></tr></table></div>
</div>
</div></div><figure class="align-default">
<img alt="_images/test1PivotExcel.png" src="_images/test1PivotExcel.png" />
</figure>
<figure class="align-default">
<img alt="_images/test1RatesExcel.png" src="_images/test1RatesExcel.png" />
</figure>
</section>
<section id="designated-innocent-suspect-in-target-absent-ta-lineups">
<h2>Designated innocent suspect in target absent (TA) lineups<a class="headerlink" href="#designated-innocent-suspect-in-target-absent-ta-lineups" title="Permalink to this heading"></a></h2>
<p>In TA lineups the suspect ID rate is estimated as the fillerID/lineupSize. In some
experiments a <code class="docutils literal notranslate"><span class="pre">designated</span> <span class="pre">innocent</span> <span class="pre">suspect</span></code> is used. This is possible with pyWitness.</p>
<blockquote>
<div><ul class="simple">
<li><p>The raw data in the <code class="docutils literal notranslate"><span class="pre">responseType</span></code> column will have an extra possible type called <code class="docutils literal notranslate"><span class="pre">designateId</span></code></p></li>
<li><p>Then all of the analyses will proceed normally, but now the targetAbsent suspectId row will be populated with data from the designated innocent suspect</p></li>
<li><p>Sometimes it is useful to check if raw data contains <code class="docutils literal notranslate"><span class="pre">designateId</span></code>, this is done by calling <code class="docutils literal notranslate"><span class="pre">dataRaw.isDesignateId</span></code></p></li>
<li><p>To convert all <code class="docutils literal notranslate"><span class="pre">designateId</span></code> to <code class="docutils literal notranslate"><span class="pre">fillerIds</span></code> one must call <code class="docutils literal notranslate"><span class="pre">dataRaw.removeDesignates()</span></code></p></li>
</ul>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials_adv.html" class="btn btn-neutral float-right" title="Advanced tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Royal Holloway, University of London 2020 and University of Bristol 2020.
      <span class="lastupdated">Last updated on Jun 04, 2023.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QECQT1H6PE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QECQT1H6PE', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>